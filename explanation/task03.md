# task03

Что выведет программа?
Объяснить внутреннее устройство интерфейсов и их отличие от пустых интерфейсов.

```go
package main

import (
  "fmt"
  "os"
)

func Foo() error {
  var err *os.PathError = nil
  return err
}

func main() {
  err := Foo()
  fmt.Println(err)
  fmt.Println(err == nil)
}
```

## Вывод:
```
<nil>
false
```

## Объяснение

В первом случае мы пытаемся вывести nil указатель, от того он и выводится.

Во втором случае вывод будет содержать булевую переменную (true или false)
Вывод содержит false так как функция Foo возращает интерфейс error, у которого поле tab = *os.PathError, а data = nil, а в main сравнивается уже непосредственно с nil:
```go
err.type == nil && err.data == nil   // только так interface считается nil
```

Интерфейсы представляют абстракцию поведения других типов. Интерфейсы позволяют определять функции, которые не привязаны к конкретной реализации. То есть интерфейсы определяют некоторый функционал, но не реализуют его.

Интерфейс в Go — это структура, состоящая из двух полей:

1. `tab`: Указатель на структуру, описывающую статический тип значения (например, int, MyStruct).
    
2. `data`: Указатель на сами данные (конкретное значение).

```go
type iface struct {
    tab *itab 
    data unsafe.Pointer
}
```

Пустой интерфейс не содержит методов, и согласно этому – под пустой интерфейс
подходит любой тип.

Сравнение с nil:

Интерфейс считается nil только если оба его поля (tab и data) равны nil. Частая ошибка: если интерфейс хранит указатель на значение nil (т.е. data = nil, но tab != nil), то сам интерфейс не будет равен nil. Это может приводить к неожиданным последствиям при проверках.